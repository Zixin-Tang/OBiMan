# Successful Example 1
Task Instruction: "## Scenario description: There are (red bottle), (blue bottle) and a (box) on the table. Both bottles are on the left side of the table and the (box) is located on the right side. The (red bottle) is closer to the left hand than the (blue bottle). ## Defined workspace: Notice that the [right hand] cannot approach (blue bottle) and (red bottle), [left hand] can approach all objects. ## Objective: Please put all bottles in the box. ## Completion instruction: After the task is completed, please move the robot arms to the initial poses."


Let's break this task step by step, keeping in mind all the rules from stage generation, task planning, and workspace constraints.

---

### **Stage Generation**
#### Task analysis:
1. **Scenario description**: There are two bottles (red bottle and blue bottle) and a box. Both bottles are on the left side of the table, with the red bottle closer to the left hand than the blue bottle. The box is on the right side of the table.
2. **Workspace constraint**:
   - **Left hand**: Can approach all objects directly.
   - **Right hand**: Cannot approach the blue bottle or the red bottle directly.
3. **Objective**: Put all bottles in the box.
4. Following rules:
   - Since the right hand cannot approach either bottle, the left hand must handle all manipulations concerning the bottles (approaching, grasping, and placing them into the box).
   - Order of manipulation: First, the red bottle (closer to the left hand), then the blue bottle.
   - After completing the objective, move the robot arms to their initial poses.

#### Stage sequence generation:
- Stage 1: <left hand> [approach] (red bottle+center)
- Stage 2: <left hand> [grasp] (red bottle)
- Stage 3: <left hand> [approach] (box+center)
- Stage 4: <left hand> [place] (red bottle) to (box)
- Stage 5: <left hand> [approach] (blue bottle+center)
- Stage 6: <left hand> [grasp] (blue bottle)
- Stage 7: <left hand> [approach] (box+center)
- Stage 8: <left hand> [place] (blue bottle) to (box)
- Stage 9: <right hand> [approach] (right initial pose)
- Stage 10: <left hand> [approach] (left initial pose)

---

### **Task Planning**

#### Efficient task plan:
- **Subtask 1**: <left hand> [approach] (red bottle+center) #One
- **Subtask 2**: <left hand> [grasp] (red bottle) #One
- **Subtask 3**: <left hand> [approach] (box+center) #One
- **Subtask 4**: <left hand> [place] (red bottle) to (box) #One
- **Subtask 5**: <left hand> [approach] (blue bottle+center) #One
- **Subtask 6**: <left hand> [grasp] (blue bottle) #One
- **Subtask 7**: <left hand> [approach] (box+center) #One
- **Subtask 8**: <left hand> [place] (blue bottle) to (box) #One
- **Subtask 9**: <left hand> [approach] (left initial pose) and <right hand> [approach] (right initial pose) #Two

---

### **Final Output**

#### Stages:
- Stage 1: <left hand> [approach] (red bottle+center)
- Stage 2: <left hand> [grasp] (red bottle)
- Stage 3: <left hand> [approach] (box+center)
- Stage 4: <left hand> [place] (red bottle) to (box)
- Stage 5: <left hand> [approach] (blue bottle+center)
- Stage 6: <left hand> [grasp] (blue bottle)
- Stage 7: <left hand> [approach] (box+center)
- Stage 8: <left hand> [place] (blue bottle) to (box)
- Stage 9: <right hand> [approach] (right initial pose)
- Stage 10: <left hand> [approach] (left initial pose)

#### Task Plan:
- Subtask 1: <left hand> [approach] (red bottle+center) #One
- Subtask 2: <left hand> [grasp] (red bottle) #One
- Subtask 3: <left hand> [approach] (box+center) #One
- Subtask 4: <left hand> [place] (red bottle) to (box) #One
- Subtask 5: <left hand> [approach] (blue bottle+center) #One
- Subtask 6: <left hand> [grasp] (blue bottle) #One
- Subtask 7: <left hand> [approach] (box+center) #One
- Subtask 8: <left hand> [place] (blue bottle) to (box) #One
- Subtask 9: <left hand> [approach] (left initial pose) and <right hand> [approach] (right initial pose) #Two

---

This output follows the task's requirements, workspace constraints, and the goal to maximize efficiency.



-----------------------------------------------------
# Successful Example 2
Task Instruction: "## Scenario description: There are (red bottle), (blue bottle) and a (box) on the table. Both bottles are on the left side of the table and the box is located on the right side. The (red bottle) is closer to the left hand than the (blue bottle). ## Defined workspace: Notice that the [left hand] cannot approach (the box) and the [right hand] cannot approach (blue bottle) and (red bottle). ## Objective: Please put all bottles in the box. ## Completion instruction: After the task is completed, please move the robot arms to the initial poses."

### Analysis
The task instruction includes:
1. **Scenario Description**: There are (red bottle), (blue bottle), and a (box) on the table. Both bottles are on the left side of the table, and the box is located on the right side. The (red bottle) is closer to the left hand than the (blue bottle).
2. **Defined Workspace**: 
   - The left hand cannot approach the (box).
   - The right hand cannot approach the (blue bottle) and (red bottle).
3. **Objective**: Put all bottles in the box.
4. **Completion Instruction**: Move the robot arms to the initial poses.

The workspace constraints mean:
- The **left hand** cannot directly manipulate the (box), but it can handle the (red bottle) and (blue bottle).
- The **right hand** cannot directly manipulate the (red bottle) and (blue bottle), but it can handle the (box).

To accomplish the task, we need handovers:
- The left hand will grasp and hand over the bottles to the right hand in alignment poses.
- The right hand will then place the bottles into the box.

Completion instruction states that the robot arms must move to their initial poses after the task is complete, so we'll generate the necessary stages for that as well.

---

### **Stage Generation**

**Stages to move the bottles into the box**:
1. **Approach and grasp the red bottle**:
   - The left hand will approach the red bottle.
   - The left hand will grasp the red bottle.
2. **Handover the red bottle**:
   - The left hand will approach the left alignment pose for handover.
   - The right hand will approach the right alignment pose for handover.
   - Both hands will align on the (red bottle) for the handover.
   - The right hand will grasp the red bottle.
   - The left hand will release the red bottle by placing it.
3. **Place the red bottle in the box**:
   - The right hand will approach the box.
   - The right hand will place the red bottle into the box.
4. **Approach and grasp the blue bottle**:
   - The left hand will approach the blue bottle.
   - The left hand will grasp the blue bottle.
5. **Handover the blue bottle**:
   - The left hand will approach the left alignment pose for handover.
   - The right hand will approach the right alignment pose for handover.
   - Both hands will align on the (blue bottle) for the handover.
   - The right hand will grasp the blue bottle.
   - The left hand will release the blue bottle by placing it.
6. **Place the blue bottle in the box**:
   - The right hand will approach the box.
   - The right hand will place the blue bottle into the box.

**Stages to return to initial poses**:
7. Move both hands to their initial poses:
   - The right hand will approach the right initial pose.
   - The left hand will approach the left initial pose.

---

### **Stages**
- Stage 1: <left hand> [approach] (red bottle+center)
- Stage 2: <left hand> [grasp] (red bottle)
- Stage 3: <left hand> [approach] (left alignment pose)
- Stage 4: <right hand> [approach] (right alignment pose)
- Stage 5: <both hands> [align] (red bottle)
- Stage 6: <right hand> [grasp] (red bottle)
- Stage 7: <left hand> [place] (red bottle)
- Stage 8: <right hand> [approach] (box+center)
- Stage 9: <right hand> [place] (red bottle)
- Stage 10: <left hand> [approach] (blue bottle+center)
- Stage 11: <left hand> [grasp] (blue bottle)
- Stage 12: <left hand> [approach] (left alignment pose)
- Stage 13: <right hand> [approach] (right alignment pose)
- Stage 14: <both hands> [align] (blue bottle)
- Stage 15: <right hand> [grasp] (blue bottle)
- Stage 16: <left hand> [place] (blue bottle)
- Stage 17: <right hand> [approach] (box+center)
- Stage 18: <right hand> [place] (blue bottle)
- Stage 19: <right hand> [approach] (right initial pose)
- Stage 20: <left hand> [approach] (left initial pose)

---

### **Task Plan**
- Subtask 1: <left hand> [approach] (red bottle+center) #One
- Subtask 2: <left hand> [grasp] (red bottle) #One
- Subtask 3: <left hand> [approach] (left alignment pose) and <right hand> [approach] (right alignment pose) #Two
- Subtask 4: <both hands> [align] (red bottle) #Two
- Subtask 5: <right hand> [grasp] (red bottle) #One
- Subtask 6: <left hand> [place] (red bottle) #One
- Subtask 7: <right hand> [approach] (box+center) #One
- Subtask 8: <right hand> [place] (red bottle) #One
- Subtask 9: <left hand> [approach] (blue bottle+center) #One
- Subtask 10: <left hand> [grasp] (blue bottle) #One
- Subtask 11: <left hand> [approach] (left alignment pose) and <right hand> [approach] (right alignment pose) #Two
- Subtask 12: <both hands> [align] (blue bottle) #Two
- Subtask 13: <right hand> [grasp] (blue bottle) #One
- Subtask 14: <left hand> [place] (blue bottle) #One
- Subtask 15: <right hand> [approach] (box+center) #One
- Subtask 16: <right hand> [place] (blue bottle) #One
- Subtask 17: <right hand> [approach] (right initial pose) and <left hand> [approach] (left initial pose) #Two





-----------------------------------------------------
# Successful Example 3
Task Instruction: "## Scenario description: There are a (glass) and a (pan) on the table. The (glass) is on the right side of the table, and the (pan) is on the right side. ## Objective: Please pour all particles in the glass into the pan. ## Defined workspace: Notice that [left hand] and [right hand] can approach all objects on the table. ## Completion instruction: After the task is completed, please move the robot arms to the initial poses."

### Stages:

- **Stage 1**: <right hand> [approach] (glass+center)  
- **Stage 2**: <right hand> [grasp] (glass)  
- **Stage 3**: <right hand> [approach] (pan+center)  
- **Stage 4**: <right hand> [pour] (glass) to (pan)  
- **Stage 5**: <right hand> [place] (glass)  
- **Stage 6**: <right hand> [approach] (right initial pose)  
- **Stage 7**: <left hand> [approach] (left initial pose)  

---

### Task Plan:

- **Subtask 1**: <right hand> [approach] (glass+center) #One  
- **Subtask 2**: <right hand> [grasp] (glass) #One  
- **Subtask 3**: <right hand> [approach] (pan+center) #One  
- **Subtask 4**: <right hand> [pour] (glass) to (pan) #One  
- **Subtask 5**: <right hand> [place] (glass) #One  
- **Subtask 6**: <right hand> [approach] (right initial pose) and <left hand> [approach] (left initial pose) #Two  

---

### Notes:

- The glass and pan are both on the right side of the table, and the defined workspace allows both hands to approach any object. Therefore, only the **right hand** is needed to complete the task following a logical, efficient sequence.  
- The action involves **grasping the glass**, **pouring its contents into the pan**, and **placing the glass back down**.  
- At the end, both arms are instructed to move to their initial poses, so the final subtask combines the approach movements of both hands.





---------------------
# Successful Example 4
Task Instruction: "## Scenario description: There is a (chip) on the left side of the table.  ## Defined workspace: Notice that [left hand] and [right hand] can approach all objects on the table. ## Objective: Please hand over the chip from one hand to the other hand. ## Completion instruction: After the task is completed, please keep the robot hands fixed."


 ### Output:

#### Stages:
- Stage 1: <left hand> [approach] (chip)  
- Stage 2: <left hand> [grasp] (chip)  
- Stage 3: <left hand> [approach] (left alignment pose)  
- Stage 4: <right hand> [approach] (right alignment pose)  
- Stage 5: <both hands> [align] (chip)  
- Stage 6: <right hand> [grasp] (chip)  
- Stage 7: <left hand> [place] (chip)

---

#### Task Plan:
- Subtask 1: <left hand> [approach] (chip) #One  
- Subtask 2: <left hand> [grasp] (chip) #One  
- Subtask 3: <left hand> [approach] (left alignment pose) and <right hand> [approach] (right alignment pose) #One  
- Subtask 4: <both hands> [align] (chip) #Two  
- Subtask 5: <right hand> [grasp] (chip) #One  
- Subtask 6: <left hand> [place] (chip) #One

---

#### Notes:
- The task requires a handover of the chip from the left hand to the right hand.
- Both hands can approach all objects directly, so there are no workspace limitations.
- Since the completion instruction specifies "keep the robot hands fixed," no additional stages (such as returning to initial poses) are needed.





---------------------
# Successful Example 5
Task Instruction: "## Scenario description: There is a (black box) with two handles and a (shelf) on the tabletop. Both objects are on the center of the table.  ## Defined workspace: Notice that [left hand] and [right hand] can approach all objects on the table. ## Objective: Please put the (black box) on the (shelf). ## Completion instruction: After the task is completed, please keep the robot hands fixed."

### Stages:
1. <left hand> [approach] (black box+left handle)
2. <right hand> [approach] (black box+right handle)
3. <left hand> [grasp] (black box)
4. <right hand> [grasp] (black box)
5. <both hands> [move synchronously] to (shelf+center)
6. <left hand> [place] (black box)
7. <right hand> [place] (black box)

---

### Task Plan:
- **Subtask 1**: <left hand> [approach] (black box+left handle) and <right hand> [approach] (black box+right handle) #One
- **Subtask 2**: <left hand> [grasp] (black box) #One
- **Subtask 3**: <right hand> [grasp] (black box) #One
- **Subtask 4**: <both hands> [move synchronously] to (shelf+center) #Two
- **Subtask 5**: <left hand> [place] (black box) #One
- **Subtask 6**: <right hand> [place] (black box) #One

---

### Explanation:
1. Since both hands need to approach the handles of the black box independently, the first subtask allows them to do so simultaneously for efficiency (dual-approach).
2. Grasping actions for both hands are separated into two subtasks due to task planning rules that forbid simultaneous execution of `[grasp]` skills.
3. Moving the black box requires synchronizing both arms, hence it is tagged as #Two and grouped into a single subtask.
4. Once the black box is at the shelf, the placement actions for each hand are split into separate subtasks to comply with sequential execution rules.





---------------------
# Successful Example 6
Task Instruction: "## Scenario description: There are a (spilled liquid) on the left side of the table and a (cloth) on the right side. ## Defined workspace: Notice that the [left hand] cannot approach the cloth, and [right hand] can approach all objects on the table. ## Objective: Please wipe the spilled liquid using the cloth. ## Completion instruction: After the task is completed, please move the robot arms to the initial poses."



### Reasoning and Step-by-Step Breakdown

We need to wipe the spilled liquid on the table using the cloth. The left hand cannot directly approach the cloth, but the right hand has no workspace limitations. Considering the task rules:

1. **Wiping Skill**: The act of wiping does not require another hand to hold the object being wiped (the table is considered stationary).
2. **Workspace Constraint**: Since the left hand cannot approach the cloth, its role is not necessary for this task unless the workspace limits require involvement, which they do not here.
3. **Task Completion Instruction**: Once the wiping is done, the robot hands need to approach their initial poses.

---

### Stage Generation

#### **Wiping Process:**
1. Approach the cloth with the *right hand*.
2. Grasp the cloth with the *right hand*.
3. Approach the spilled liquid with the *right hand*.
4. Wipe the spilled liquid using the cloth with the *right hand*.

#### **Completion Instruction:**
5. Return the hands to their initial poses sequentially.

---

### Generated Stages:

1. **Stage 1**: <right hand> [approach] (cloth+edge)  
2. **Stage 2**: <right hand> [grasp] (cloth)  
3. **Stage 3**: <right hand> [approach] (spilled liquid+center)  
4. **Stage 4**: <right hand> [wipe] (spilled liquid)  
5. **Stage 5**: <right hand> [approach] (the right initial pose)  
6. **Stage 6**: <left hand> [approach] (the left initial pose)  

---

### Task Planning

#### Subtask Assignment and Categorization:
- **Subtask 1**: <right hand> [approach] (cloth+edge) #One  
- **Subtask 2**: <right hand> [grasp] (cloth) #One  
- **Subtask 3**: <right hand> [approach] (spilled liquid+center) #One  
- **Subtask 4**: <right hand> [wipe] (spilled liquid) #One  
- **Subtask 5**: <right hand> [approach] (the right initial pose) and <left hand> [approach] (the left initial pose) #One  

---

### Final Output

#### Stages:
- Stage 1: <right hand> [approach] (cloth+edge)
- Stage 2: <right hand> [grasp] (cloth)
- Stage 3: <right hand> [approach] (spilled liquid+center)
- Stage 4: <right hand> [wipe] (spilled liquid)
- Stage 5: <right hand> [approach] (the right initial pose)
- Stage 6: <left hand> [approach] (the left initial pose)

---

#### Task Plan:
- Subtask 1: <right hand> [approach] (cloth+edge) #One
- Subtask 2: <right hand> [grasp] (cloth) #One
- Subtask 3: <right hand> [approach] (spilled liquid+center) #One
- Subtask 4: <right hand> [wipe] (spilled liquid) #One
- Subtask 5: <right hand> [approach] (the right initial pose) and <left hand> [approach] (the left initial pose) #One